apiVersion: v1
kind: Pod
metadata:
  name: {{ .Values.preinstall.pod }}
  namespace: {{ .Values.serviceNamespace }}
  annotations:
    "helm.sh/hook": "pre-install"
    "helm.sh/hook-weight": "3"
    "helm.sh/hook-delete-policy": "hook-succeeded"
    "helm.sh/hook-delete-policy": "hook-failed"
    "helm.sh/hook-delete-policy": "before-hook-creation"
spec:
  restartPolicy: Never
  serviceAccountName: kritis-preinstall-serviceaccount
  containers:
  - name: {{ .Values.preinstall.podName }}
    image: {{ .Values.preinstall.podImage }}
    command: {{ .Values.preinstall.podCommand }}
